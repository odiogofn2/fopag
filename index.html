<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Controle Financeiro</title>

  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:,">
</head>
<body>

<div class="app">

  <header>
    <h1>Controle Financeiro</h1>
  </header>

  <!-- LOGIN -->
  <section id="authBox" style="padding:30px; display:none;">
    <h2 style="margin-bottom:12px;">Acesso</h2>

    <form id="formAuth" style="display:grid; gap:12px; grid-template-columns: 1fr;">
      <input id="authEmail" type="email" placeholder="Seu e-mail" required>
      <input id="authPass" type="password" placeholder="Senha" required>
      <button type="submit">Entrar / Cadastrar</button>
    </form>

    <p style="margin-top:10px; color:#6b7280; font-size:13px;">
      Ele tenta entrar. Se não existir, cria sua conta.
      (Se exigir confirmação por e-mail, confirme e tente entrar de novo.)
    </p>

    <div style="margin-top:16px;">
      <button id="btnLogout" type="button" style="display:none;">Sair</button>
    </div>
  </section>

  <!-- TABS -->
  <nav class="tabs" id="tabs" style="display:none;">
    <button class="active" data-aba="lancamentos">Lançamentos</button>
    <button data-aba="graficos">Gráficos</button>
    <button data-aba="configuracoes">Configurações</button>
  </nav>

  <!-- ================= LANCAMENTOS ================= -->
  <section id="lancamentos" class="aba ativa" style="display:none;">

    <form id="formLancamento">
      <select id="tipo" required>
        <option value="">Tipo</option>
        <option value="entrada">Entrada</option>
        <option value="saida">Saída</option>
      </select>

      <input id="valor" placeholder="Valor (ex: 5,99 ou 5.99)" required>

      <input id="parcelas" type="number" min="1" value="1" placeholder="Parcelas">

      <input id="local" placeholder="Local / Descrição" required>

      <select id="categoria" required></select>
      <select id="pagamento" required></select>

      <!-- NOVO: BANCO -->
      <select id="banco" required></select>

      <input type="month" id="mes" required>

      <button type="submit">Salvar</button>
    </form>

    <input type="month" id="mesFiltro">

    <ul id="listaLancamentos"></ul>

    <div class="totais">
      <span id="totalEntradas">Entradas: R$ 0,00</span>
      <span id="totalSaidas">Saídas: R$ 0,00</span>
      <strong id="saldo">Saldo: R$ 0,00</strong>
    </div>

  </section>

  <!-- ================= GRAFICOS ================= -->
  <section id="graficos" class="aba" style="display:none;">
    <h2>Gráficos</h2>

    <canvas id="graficoMensal" height="110"></canvas>
    <canvas id="graficoCategorias" height="110"></canvas>

    <!-- NOVO: bancos -->
    <canvas id="graficoBancos" height="110"></canvas>

    <canvas id="graficoSaldo" height="110"></canvas>
  </section>

  <!-- ================= CONFIGURACOES ================= -->
  <section id="configuracoes" class="aba" style="display:none;">

    <h2>Categorias</h2>
    <div class="box-config">
      <input id="novaCategoria" placeholder="Nova categoria">
      <button id="btnAddCategoria" type="button">Adicionar</button>
      <ul id="listaCategorias"></ul>
    </div>

    <h2>Formas de Pagamento</h2>
    <div class="box-config">
      <input id="novoPagamento" placeholder="Nova forma de pagamento">
      <button id="btnAddPagamento" type="button">Adicionar</button>
      <ul id="listaPagamentos"></ul>
    </div>

    <!-- NOVO: BANCOS -->
    <h2>Bancos</h2>
    <div class="box-config">
      <input id="novoBanco" placeholder="Novo banco">
      <button id="btnAddBanco" type="button">Adicionar</button>
      <ul id="listaBancos"></ul>
    </div>

    <div style="margin-top:20px;">
      <button id="btnLogout2" type="button">Sair</button>
    </div>

  </section>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="script.js"></script>
</body>
</html>
